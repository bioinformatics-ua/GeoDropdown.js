function stripGCode(a){return a.replace(/gcode(.)*/,"")}function castView(a,b){b.level<2&&($("#"+b.country).hide(),b.selectedCountryText=""),b.level<3&&($("#"+b.adm1).hide(),b.selectedADM1Text=""),b.level<4&&($("#"+b.adm2).hide(),b.selectedADM2Text=""),b.level<5&&($("#"+b.adm3).hide(),b.selectedADM3Text=""),b.level<6&&($("#"+b.adm4).hide(),b.selectedADM4Text=""),b.level<7&&($("#"+b.adm5).hide(),b.selectedADM5Text="")}function populateContinents(a,b){if($('select[id="'+a.country+'"]').hide(),$('select[id="'+a.adm1+'"]').hide(),$('select[id="'+a.adm2+'"]').hide(),$('select[id="'+a.adm3+'"]').hide(),$('select[id="'+a.adm4+'"]').hide(),$('select[id="'+a.adm5+'"]').hide(),continentElement=document.getElementById(a.continent),selectedContinentIndex=document.getElementById(a.continent).selectedIndex,-1==a.selectedContinentIndex)for(continentElement.length=0,void 0!=a.answer&&JSON.parse(a.answer)[0].continent?(continentElement.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].continent),""),a.selectedContinentText=JSON.parse(a.answer)[0].continent):continentElement.options[0]=new Option("Select Continent",""),continentElement.selectedIndex=0,i=0,x=a.levels[0].length;i<x;i++)"childrenJSON"==a.webservice?continentElement.options[continentElement.length]=new Option(stripGCode(a.levels[0][i]),stripGCode(a.levels[0][i])):continentElement.options[continentElement.length]=new Option(a.levels[0][i].name,a.levels[0][i].name);if(a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),a.country&&$('select[id="'+a.continent+'"]').change(function(){if(a.selectedContinentIndex=document.getElementById(a.continent).selectedIndex,a.selectedCountryIndex=a.selectedADM1Index=a.selectedADM2Index=a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-1,a.selectedCountryText=a.selectedADM1Text=a.selectedADM2Text=a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[2]=a.levels[3]=a.levels[4]=a.levels[5]=a.levels[6]=null,a.level=1,a.selectedContinentText=$('select[id="'+a.continent+'"] option:selected').text(),b.fire("changeVal",{continent:a.selectedContinentText,country:"",adm1:"",adm2:"",adm3:"",adm4:"",adm5:""}),"continent"!=a.reach)if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedContinentText+'")'),b,void 0);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedContinentText&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}),(a.selectedContinentIndex<0||void 0==a.selectedContinentIndex)&&""!=a.selectedContinentText){if(a.selectedCountryIndex=a.selectedADM1Index=a.selectedADM2Index=a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-1,a.selectedCountryText=a.selectedADM1Text=a.selectedADM2Text=a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[2]=a.levels[3]=a.levels[4]=a.levels[5]=a.levels[6]=null,a.level=1,a.selectedContinentText=$('select[id="'+a.continent+'"] option:selected').text(),"continent"==a.reach)return;if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedContinentText+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedContinentText&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}$(continentElement).selectpicker("refresh").selectpicker("show")}function populateCountries(a,b){if("default_continent"==a.continent&&$('select[id="'+a.continent+'"]').selectpicker("hide"),$('select[id="'+a.country+'"]').selectpicker("show"),$('select[id="'+a.adm1+'"]').selectpicker("hide"),$('select[id="'+a.adm2+'"]').selectpicker("hide"),$('select[id="'+a.adm3+'"]').selectpicker("hide"),$('select[id="'+a.adm4+'"]').selectpicker("hide"),$('select[id="'+a.adm5+'"]').selectpicker("hide"),countryElement=document.getElementById(a.country),0!=document.getElementById(a.country).selectedIndex&&(a.selectedCountryIndex=document.getElementById(a.country).selectedIndex),countryElement.length=1,a.selectedContinentIndex<0&&void 0!=a.answer&&JSON.parse(a.answer)[0].country?(countryElement.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].country),""),a.selectedCountryText=JSON.parse(a.answer)[0].country):countryElement.options[0]=new Option("Select Country",""),countryElement.selectedIndex=0,"childrenJSON"==a.webservice){for(i=0,x=a.levels[1].length;i<x;i++)a.levels[1][i]=getCountryName(a.levels[1][i].substring(a.levels[1][i].length-2,a.levels[1][i].length));a.levels[1]=$.unique(a.levels[1]).sort()}for(i=0,x=a.levels[1].length;i<x;i++)"childrenJSON"==a.webservice?countryElement.options[countryElement.length]=new Option(a.levels[1][i],a.levels[1][i]):countryElement.options[countryElement.length]=new Option(getCountryName(a.levels[1][i].name),getCountryName(a.levels[1][i].name));if(a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),a.adm1&&($('select[id="'+a.country+'"]').change(function(){if(a.selectedCountryText=getCountryCode(isoCountries,$('select[id="'+a.country+'"] option:selected').text()),a.selectedADM1Index=a.selectedADM2Index=a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-1,a.selectedADM1Text=a.selectedADM2Text=a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[3]=a.levels[4]=a.levels[5]=a.levels[6]=null,a.level=2,b.fire("changeVal",{continent:a.selectedContinentText,country:getCountryName(a.selectedCountryText),adm1:"",adm2:"",adm3:"",adm4:"",adm5:""}),"country"!=a.reach)if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedCountryText+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedCountryText&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}),(a.selectedCountryIndex<0||void 0==a.selectedCountryIndex)&&""!=a.selectedCountryText)){if(a.selectedCountryText=getCountryCode(isoCountries,$('select[id="'+a.country+'"] option:selected').text()),a.selectedADM1Index=a.selectedADM2Index=a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-2,a.selectedADM1Text=a.selectedADM2Text=a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[3]=a.levels[4]=a.levels[5]=a.levels[6]=null,a.level=2,"country"==a.reach)return;if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedCountryText+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedCountryText&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}$(countryElement).selectpicker("refresh").selectpicker("show")}function populateADM1(a,b){for($('select[id="'+a.country+'"]').selectpicker("show"),$('select[id="'+a.adm1+'"]').selectpicker("show"),$('select[id="'+a.adm2+'"]').selectpicker("hide"),$('select[id="'+a.adm3+'"]').selectpicker("hide"),$('select[id="'+a.adm4+'"]').selectpicker("hide"),$('select[id="'+a.adm5+'"]').selectpicker("hide"),adm1Element=document.getElementById(a.adm1),adm1Element.length=1,a.selectedADM1Index<0?void 0!=a.answer&&JSON.parse(a.answer)[0].adm1&&-2==a.selectedADM1Index?(adm1Element.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].adm1),""),a.selectedADM1Text=JSON.parse(a.answer)[0].adm1):(adm1Element.options[0]=new Option("Select Region/State",""),adm1Element.selectedIndex=0):adm1Element.options[0]=new Option(stripGCode(a.levels[2][selectedADM1Index-1]),stripGCode(a.levels[2][selectedADM1Index-1])),i=0,x=a.levels[2].length;i<x;i++)"childrenJSON"==a.webservice?adm1Element.options[adm1Element.length]=new Option(stripGCode(a.levels[2][i]),stripGCode(a.levels[2][i])):adm1Element.options[adm1Element.length]=new Option(a.levels[2][i].name,a.levels[2][i].name);if(a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),a.adm2&&($('select[id="'+a.adm1+'"]').change(function(){if(a.selectedADM2Index=a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-1,a.selectedADM2Text=a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[4]=a.levels[5]=a.levels[6]=null,0!=document.getElementById(a.adm1).selectedIndex&&(a.selectedADM1Index=document.getElementById(a.adm1).selectedIndex),a.level=3,a.selectedADM1Text=a.levels[2][a.selectedADM1Index-1].name,b.fire("changeVal",{continent:a.selectedContinentText,country:getCountryName(a.selectedCountryText),adm1:a.selectedADM1Text,adm2:"",adm3:"",adm4:"",adm5:""}),"adm1"!=a.reach)if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM1Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM1Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}),(void 0==a.selectedADM1Index||a.selectedADM1Index<0)&&""!=a.selectedADM1Text)){if(a.selectedADM2Index=a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-2,a.selectedADM2Text=a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[4]=a.levels[5]=a.levels[6]=null,0!=document.getElementById(a.adm1).selectedIndex&&(a.selectedADM1Index=document.getElementById(a.adm1).selectedIndex),a.level=3,"adm1"==a.reach)return;if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM1Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM1Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}$(adm1Element).selectpicker("refresh").selectpicker("show")}function populateADM2(a,b){for($('select[id="'+a.country+'"]').selectpicker("show"),$('select[id="'+a.adm1+'"]').selectpicker("show"),$('select[id="'+a.adm2+'"]').selectpicker("show"),$('select[id="'+a.adm3+'"]').selectpicker("hide"),$('select[id="'+a.adm4+'"]').selectpicker("hide"),$('select[id="'+a.adm5+'"]').selectpicker("hide"),adm2Element=document.getElementById(a.adm2),adm2Element.length=1,a.selectedADM2Index<0?void 0!=a.answer&&JSON.parse(a.answer)[0].adm2&&-2==a.selectedADM2Index?(adm2Element.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].adm2),""),a.selectedADM2Text=JSON.parse(a.answer)[0].adm2):(adm2Element.options[0]=new Option("Select City",""),adm2Element.selectedIndex=0):adm2Element.options[0]=new Option(stripGCode(a.levels[3][a.selectedADM2Index-1]),stripGCode(a.levels[3][a.selectedADM2Index-1])),i=0,x=a.levels[3].length;i<x;i++)"childrenJSON"==a.webservice?adm2Element.options[adm2Element.length]=new Option(stripGCode(a.levels[3][i]),stripGCode(a.levels[3][i])):adm2Element.options[adm2Element.length]=new Option(a.levels[3][i].name,a.levels[3][i].name);if(a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),a.adm3&&$('select[id="'+a.adm2+'"]').change(function(){if(a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-1,a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[5]=a.levels[6]=null,0!=document.getElementById(a.adm2).selectedIndex&&(a.selectedADM2Index=document.getElementById(a.adm2).selectedIndex),a.level=4,a.selectedADM2Text=a.levels[3][a.selectedADM2Index-1].name,b.fire("changeVal",{continent:a.selectedContinentText,country:getCountryName(a.selectedCountryText),adm1:a.selectedADM1Text,adm2:a.selectedADM2Text,adm3:"",adm4:"",adm5:""}),"adm2"!=a.reach)if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM2Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM2Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}),(void 0==a.selectedADM2Index||a.selectedADM2Index<0)&&""!=a.selectedADM2Text){if(a.selectedADM3Index=a.selectedADM4Index=a.selectedADM5Index=-2,a.selectedADM3Text=a.selectedADM4Text=a.selectedADM5Text="",a.levels[5]=a.levels[6]=null,0!=document.getElementById(a.adm2).selectedIndex&&(a.selectedADM2Index=document.getElementById(a.adm2).selectedIndex),a.level=4,"adm2"==a.reach)return;if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM2Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM2Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}$(adm2Element).selectpicker("refresh").selectpicker("show")}function populateADM3(a,b){for($('select[id="'+a.country+'"]').selectpicker("show"),$('select[id="'+a.adm1+'"]').selectpicker("show"),$('select[id="'+a.adm2+'"]').selectpicker("show"),$('select[id="'+a.adm3+'"]').selectpicker("show"),$('select[id="'+a.adm4+'"]').selectpicker("hide"),$('select[id="'+a.adm5+'"]').selectpicker("hide"),adm3Element=document.getElementById(a.adm3),adm3Element.length=1,a.selectedADM3Index<0?void 0!=a.answer&&JSON.parse(a.answer)[0].adm3&&-2==a.selectedADM3Index?(adm3Element.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].adm3),""),a.selectedADM3Text=JSON.parse(a.answer)[0].adm3):(adm3Element.options[0]=new Option("Select ADM3",""),adm3Element.selectedIndex=0):adm3Element.options[0]=new Option(stripGCode(a.levels[4][a.selectedADM3Index-1]),stripGCode(a.levels[4][a.selectedADM3Index-1])),i=0,x=a.levels[4].length;i<x;i++)"childrenJSON"==a.webservice?adm3Element.options[adm3Element.length]=new Option(stripGCode(a.levels[4][i]),stripGCode(a.levels[4][i])):adm3Element.options[adm3Element.length]=new Option(a.levels[4][i].name,a.levels[4][i].name);if(a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),a.adm4&&$('select[id="'+a.adm3+'"]').change(function(){if(a.selectedADM4Index=a.selectedADM5Index=-1,a.selectedADM4Text=a.selectedADM5Text="",a.levels[6]=null,$('select[id="'+a.id+'_adm4"]').prop("selectedIndex",0),$('select[id="'+a.id+'_adm5"]').prop("selectedIndex",0),0!=document.getElementById(a.adm3).selectedIndex&&(a.selectedADM3Index=document.getElementById(a.adm3).selectedIndex),a.level=5,a.selectedADM3Text=a.levels[4][a.selectedADM3Index-1].name,b.fire("changeVal",{continent:a.selectedContinentText,country:getCountryName(a.selectedCountryText),adm1:a.selectedADM1Text,adm2:a.selectedADM2Text,adm3:a.selectedADM3Text,adm4:"",adm5:""}),"adm3"!=a.reach)if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM3Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM3Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}),(void 0==a.selectedADM3Index||a.selectedADM3Index<0)&&""!=a.selectedADM3Text){if(a.selectedADM4Index=a.selectedADM5Index=-2,a.selectedADM4Text=a.selectedADM5Text="",a.levels[6]=null,0!=document.getElementById(a.adm3).selectedIndex&&(a.selectedADM3Index=document.getElementById(a.adm3).selectedIndex),a.level=5,"adm3"==a.reach)return;if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM3Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM3Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}$(adm3Element).selectpicker("refresh").selectpicker("show")}function populateADM4(a,b){for($('select[id="'+a.country+'"]').selectpicker("show"),$('select[id="'+a.adm1+'"]').selectpicker("show"),$('select[id="'+a.adm2+'"]').selectpicker("show"),$('select[id="'+a.adm3+'"]').selectpicker("show"),$('select[id="'+a.adm4+'"]').selectpicker("show"),$('select[id="'+a.adm5+'"]').selectpicker("hide"),adm4Element=document.getElementById(a.adm4),adm4Element.length=1,a.selectedADM4Index<0?void 0!=a.answer&&JSON.parse(a.answer)[0].adm4&&-2==a.selectedADM4Index?(adm4Element.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].adm4),""),a.selectedADM4Text=JSON.parse(a.answer)[0].adm4):(adm4Element.options[0]=new Option("Select ADM4",""),adm4Element.selectedIndex=0):adm4Element.options[0]=new Option(stripGCode(a.levels[5][a.selectedADM4Index-1]),stripGCode(a.levels[5][a.selectedADM4Index-1])),i=0,x=a.levels[5].length;i<x;i++)"childrenJSON"==a.webservice?adm4Element.options[adm4Element.length]=new Option(stripGCode(a.levels[5][i]),stripGCode(a.levels[5][i])):adm4Element.options[adm4Element.length]=new Option(a.levels[5][i].name,a.levels[5][i].name);if(a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),a.adm5&&$('select[id="'+a.adm4+'"]').change(function(){if(a.selectedADM5Index=-1,a.selectedADM5Text="",$('select[id="'+a.id+'_adm5"]').prop("selectedIndex",0),0!=document.getElementById(a.adm4).selectedIndex&&(a.selectedADM4Index=document.getElementById(a.adm4).selectedIndex),a.level=6,a.selectedADM4Text=a.levels[5][a.selectedADM4Index-1].name,b.fire("changeVal",{continent:a.selectedContinentText,country:getCountryName(a.selectedCountryText),adm1:a.selectedADM1Text,adm2:a.selectedADM2Text,adm3:a.selectedADM3Text,adm4:a.selectedADM4Text,adm5:""}),"adm4"!=a.reach)if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM4Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM4Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}),(void 0==a.selectedADM4Index||a.selectedADM4Index<0)&&""!=a.selectedADM4Text){if(a.selectedADM5Index=-2,a.selectedADM5Text="",0!=document.getElementById(a.adm4).selectedIndex&&(a.selectedADM4Index=document.getElementById(a.adm4).selectedIndex),a.level=6,"adm4"==a.reach)return;if("childrenJSON"==a.webservice)a.geoClick($('a:contains("'+a.selectedADM4Text.replace(/gcode/,"")+'")'),b);else for(i=0;i<a.levels[a.level-1].length;i++)a.levels[a.level-1][i].name==a.selectedADM4Text&&a.geoClick(void 0,b,a.levels[a.level-1][i].geonameId)}$(adm4Element).selectpicker("refresh").selectpicker("show")}function populateADM5(a,b){for($('select[id="'+a.country+'"]').selectpicker("show"),$('select[id="'+a.adm1+'"]').selectpicker("show"),$('select[id="'+a.adm2+'"]').selectpicker("show"),$('select[id="'+a.adm3+'"]').selectpicker("show"),$('select[id="'+a.adm4+'"]').selectpicker("show"),$('select[id="'+a.adm5+'"]').selectpicker("show"),adm5Element=document.getElementById(a.adm5),adm5Element.length=1,a.selectedADM5Index<0?void 0!=a.answer&&JSON.parse(a.answer)[0].adm5&&-2==a.selectedADM5Index?(adm5Element.options[0]=new Option(stripGCode(JSON.parse(a.answer)[0].adm5),""),a.selectedADM5Text=JSON.parse(a.answer)[0].adm5):(adm5Element.options[0]=new Option("Select ADM5",""),adm5Element.selectedIndex=0):adm5Element.options[0]=new Option(stripGCode(a.levels[6][a.selectedADM5Index-1]),stripGCode(a.levels[6][a.selectedADM5Index-1])),i=0,x=a.levels[6].length;i<x;i++)"childrenJSON"==a.webservice?adm5Element.options[adm5Element.length]=new Option(stripGCode(a.levels[6][i]),stripGCode(a.levels[6][i])):adm5Element.options[adm5Element.length]=new Option(a.levels[6][i].name,a.levels[6][i].name);a.names=new Array,"childrenJSON"==a.webservice&&a.geoParent.append("<ol>"+a.g.join("")+"</ol>"),$('select[id="'+a.adm5+'"]').change(function(){selectedADM5Text=$('select[id="'+a.adm5+'"] option:selected').text(),0!=document.getElementById(a.adm5).selectedIndex&&(a.selectedADM5Index=document.getElementById(a.adm5).selectedIndex),b.fire("changeVal",{continent:a.selectedContinentText,country:getCountryName(a.selectedCountryText),adm1:a.selectedADM1Text,adm2:a.selectedADM2Text,adm3:a.selectedADM3Text,adm4:a.selectedADM4Text,adm5:a.selectedADM5Text})}),$(adm5Element).selectpicker("refresh").selectpicker("show")}function getCountryName(a){return isoCountries.hasOwnProperty(a)?isoCountries[a]:a}function getCountryCode(a,b){for(key in a)if("number"==typeof a[key]||"string"==typeof a[key]){if(a[key]===b)return key}else"object"==typeof a[key]&&searchObject(a[key],b)}jQuery&&function(){$.extend($.fn,{rightClick:function(a){return $(this).each(function(){$(this).mousedown(function(b){var c=b;$(this).mouseup(function(){return $(this).unbind("mouseup"),2==c.button?(a.call($(this),c),!1):!0})}),$(this)[0].oncontextmenu=function(){return!1}}),$(this)},rightMouseDown:function(a){return $(this).each(function(){$(this).mousedown(function(b){return 2==b.button?(a.call($(this),b),!1):!0}),$(this)[0].oncontextmenu=function(){return!1}}),$(this)},rightMouseUp:function(a){return $(this).each(function(){$(this).mouseup(function(b){return 2==b.button?(a.call($(this),b),!1):!0}),$(this)[0].oncontextmenu=function(){return!1}}),$(this)},noContext:function(){return $(this).each(function(){$(this)[0].oncontextmenu=function(){return!1}}),$(this)}})}(jQuery),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1},c.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,d,f)})}var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}k=a(k,this);case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q}/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery);var geoDropdown=function(a,b,c,d,e,f,g,h,i,j,k,l){this.continent=a,this.country=b,this.adm1=c,this.adm2=d,this.adm3=e,this.adm4=f,this.adm5=g,this.reach=h,this.answer=i,this.clean=j,this.url=k,this.webservice=l,this.levels=new Array,this.names=new Array,this.level=-1,this.geoParent,this.g,this.continentElement,this.selectedContinentIndex=-1,this.selectedContinentText="",this.countryElement,this.selectedCountryIndex=-1,this.selectedCountryText="",this.adm1Element,this.selectedADM1Index=-1,this.selectedADM1Text="",this.adm2Element,this.selectedADM2Index=-1,this.selectedADM2Text="",this.adm3Element,this.selectedADM3Index=-1,this.selectedADM3Text="",this.adm4Element,this.selectedADM4Index=-1,this.selectedADM4Text="",this.adm5Element,this.selectedADM5Index=-1,this.selectedADM5Text=""};geoDropdown.prototype.geoReady=function(a){$("#"+this.country).selectpicker().selectpicker("hide"),$("#"+this.adm1).selectpicker().selectpicker("hide"),$("#"+this.adm2).selectpicker().selectpicker("hide"),$("#"+this.adm3).selectpicker().selectpicker("hide"),$("#"+this.adm4).selectpicker().selectpicker("hide"),$("#"+this.adm5).selectpicker().selectpicker("hide"),"default_continent"!=this.continent?($("#"+this.continent).selectpicker().selectpicker("hide"),this.geoClick($("#earth"),a)):(this.geoClick($("#africa"),a),this.geoClick($("#antarctica"),a),this.geoClick($("#asia"),a),this.geoClick($("#europe"),a),this.geoClick($("#north_america"),a),this.geoClick($("#oceania"),a),this.geoClick($("#south_america"),a))},geoDropdown.prototype.geoClick=function(a,b,c){var d=this;void 0!=a&&(this.geoParent=a.parent());var e=b,f=navigator.language||navigator.userLanguage;"childrenJSON"==d.webservice?$.ajax({url:"http://geotree.geonames.net/childrenJSON",dataType:"jsonp",data:{geonameId:a.attr("gid"),token:"eertoeg",maxRows:999,style:"full",lang:f},success:function(a){if(a.status&&$("#alert").html(a.status.message+" ("+a.status.value+")").show(),a.geonames&&a.geonames.length){if(d.g=new Array,$.each(a.geonames,function(){var a="";"CONT"==this.fcode&&this.continentCode?(a=this.continentCode,"default_continent"!=d.continent&&(d.level=0)):this.countryCode&&"P"!==this.fcl&&(a+=this.countryCode,this.adminCode1&&(a+="-"+this.adminCode1,this.adminCode2&&(a+="-"+this.adminCode2,this.adminCode3&&(a+="-"+this.adminCode3,this.adminCode4&&(a+="-"+this.adminCode4,this.adminCode5&&(a+="-"+this.adminCode5)))))),5==a.length&&(a=a.replace("-00",""));var b="";if("P"!==this.fcl){b=a;for(var c=b.split("-"),e=1;5>=e;e++)this.fcode=="ADM"+e&&(b=c[e])}d.g.push('<li><a href="#" sort="'+asciiName(this.name)+'" title="'+a+'" fcode="'+this.fcode+'" gid="'+this.geonameId+'" class="id_'+this.geonameId+'">'+this.name+b+"</a></li>"),""!=b&&d.names.push(this.name+"gcode"+b)}),"default_continent"==d.continent&&-1==d.level){if(d.names.length<248)return void d.geoParent.append("<ol>"+d.g.join("")+"</ol>");d.level=1}if(0==d.names.length)return void castView(d.level,d);for(d.names=$.unique(d.names).sort(),i=0;i<7;i++)if(i!=d.level&&void 0!=d.levels[i]&&d.levels[i][0]==d.names[0])return void castView(d.level,d);switch(d.levels[d.level]=d.names,d.level){case 0:populateContinents(d,e);break;case 1:populateCountries(d,e);break;case 2:populateADM1(d,e);break;case 3:populateADM2(d,e);break;case 4:populateADM3(d,e);break;case 5:populateADM4(d,e);break;case 6:populateADM5(d,e)}}else castView(d.level,d)},error:function(){castView(d.level,d),$("#alert").html("ws timeout").show()}}):(void 0==c&&(c=a.attr("gid")),$.ajax({url:"http://127.0.0.1:4000/geodatabase/"+c+"/",success:function(a){for((-1!=d.level||"default_continent"!=d.continent||d.names.length>=233)&&(d.names=new Array),i=0;i<a.length;i++)1==d.level||-1==d.level&&"default_continent"==d.continent?entry={name:a[i].country,geonameId:a[i].geonameid}:entry={name:a[i].name,geonameId:a[i].geonameid},d.names.push(entry);if(-1==d.level)if("default_continent"!=d.continent)d.level=0;else{if(d.names.length<233)return;d.level=1}switch(d.levels[d.level]=d.names,d.level){case 0:populateContinents(d,e);break;case 1:populateCountries(d,e);break;case 2:populateADM1(d,e);break;case 3:populateADM2(d,e);break;case 4:populateADM3(d,e);break;case 5:populateADM4(d,e);break;case 6:populateADM5(d,e)}},error:function(){console.log("ERRO!!!")}}))},asciiName=function(a){var b=a.toLowerCase();return b=b.replace(/\\s/g,""),b=b.replace(/[àáâãäå]/g,"a"),b=b.replace(/æ/g,"ae"),b=b.replace(/ç/g,"c"),b=b.replace(/[èéêë]/g,"e"),b=b.replace(/[ìíîï]/g,"i"),b=b.replace(/ñ/g,"n"),b=b.replace(/[òóôõö]/g,"o"),b=b.replace(/œ/g,"oe"),b=b.replace(/[ùúûü]/g,"u"),b=b.replace(/[ýÿ]/g,"y"),b=b.replace(/\\W/g,"a")};var adm5Element,selectedADM5Index,selectedADM5Text,isoCountries={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",KP:"North Korea",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",XK:"Kosovo",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};